<section class="profile om-section">
	<div class="profile__container">
		<aside class="profile__container__sidebar">
			<div class="account">
				<div class="account__information">
					<div class="picture">
						<img
							[src]="(user$ | async)?.profile.picture"
							alt="{{(user$ | async)?.name}} picture"
						/>
					</div>
					<div class="profile">
						<div class="profile__data">
							<h1 class="userinfo">
								<span class="name om-no-break-text">{{ (user$ | async)?.name }}</span>
								<span class="username om-no-break-text">{{ (user$ | async)?.email }}</span>
							</h1>
							<p
								class="biography"
								*ngIf="(user$ | async)?.profile.biography"
							>
								{{ (user$ | async)?.profile.biography }}
							</p>
							<button class="om-button om-transition">Editar perfil</button>
						</div>
						<ul class="details">
							<ng-container [ngSwitch]="(user$ | async)?.gender">
								<li class="detail">
									<i class="icon uil uil-user-circle"></i>
									<span *ngSwitchCase="'male'">Masculino</span>
									<span *ngSwitchCase="'female'">Femenino</span>
									<span *ngSwitchCase="'other'">Otro</span>
								</li>
							</ng-container>
							<li class="detail" *ngIf="(user$ | async)?.profile.website">
								<i class="icon uil uil-paperclip"></i>
								<a
									[href]="
										secureRedirection(
											(user$ | async)?.profile.website
										)
									"
									target="_blank"
									class="link om-transition"
									>{{ (user$ | async)?.profile.website }}</a
								>
							</li>
							<li class="detail">
								<i class="icon uil uil-calendar-alt"></i>
								<span>{{ (user$ | async)?.created_at | date }}</span>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</aside>
		<div class="profile__container__content" id="profile-content">
			<div class="user-workspaces">
				<h2 class="title">Espacios de trabajo</h2>
				<div class="content">
					<ng-container *ngIf="(user$|async)?.workspaces!.length >= 1; else noWorkspace">
						<app-workspace-card *ngFor="let workspace of (workspaces$|async)" [workspace$]="workspace"></app-workspace-card>
					</ng-container>
					<ng-template #noWorkspace>
						No workspace
					</ng-template>
				</div>
			</div>
		</div>
	</div>
</section>
